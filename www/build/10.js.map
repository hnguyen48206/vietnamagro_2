{"version":3,"sources":["../../src/pages/admin-supplier/admin-supplier.module.ts","../../src/pages/admin-supplier/admin-supplier.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminSupplierPage } from './admin-supplier';\nimport { DataTableModule } from 'angular2-datatable';\n\n@NgModule({\n  declarations: [\n    AdminSupplierPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminSupplierPage),\n    DataTableModule\n  ],\n})\nexport class AdminSupplierPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-supplier/admin-supplier.module.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, AlertController } from 'ionic-angular';\nimport { GlobalheroProvider } from '../../providers/globalhero/globalhero';\nimport { FirebaseServicesProvider } from '../../providers/firebase-services/firebase-services';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { supplierFirebaseController } from '../../providers/firebase-services/supplierFirebaseController';\n\n\n/**\n * Generated class for the AdminNewsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'AdminSupplierPage',\n  segment: 'admin/supplier',\n  defaultHistory: ['AdminPage']\n})\n@Component({\n  selector: 'page-admin-supplier',\n  templateUrl: 'admin-supplier.html',\n})\nexport class AdminSupplierPage {\n  @ViewChild('itemContentInput') itemContentInput: ElementRef;\n\n  currentChosenCatergory = ''\n  newsCatergories = {\n    newsCatergoriesCollectionID: [],\n    newsCatergoriesMetadata: []\n  }\n\n  userInput = {\n    shortDescription: '',\n    title: '',\n    detail: '',\n    mediaList: [],\n    status: true,\n    lastUpdated: null\n  }\n  mediaListToSend = []\n  addItem = false\n\n  listOfNews = []\n  constructor(private supplierFirebaseController: supplierFirebaseController,\n    private sanitizer: DomSanitizer, private alertCtrl: AlertController, private fbservices: FirebaseServicesProvider, private global: GlobalheroProvider, private menuCrtl: MenuController, public navCtrl: NavController, public navParams: NavParams) {\n\n  }\n  sideMenuTrigger() {\n    this.menuCrtl.open();\n  }\n  openAddItem() {\n    if(this.listOfNews.length==1)\n    this.global.presentToast('Bạn chỉ có thể tạo 1 quy trình cho 1 loại sản phẩm. Vui lòng sử dụng tính năng edit hoặc delete quy trình hiện tại.')\n    else\n    this.addItem = true\n  }\n  closeAddItem() {\n    this.addItem = false;\n    this.userInput = {\n      shortDescription: '',\n      title: '',\n      detail: '',\n      mediaList: [],\n      status: true,\n      lastUpdated: null\n    }\n    this.mediaListToSend = []\n  }\n  textAreaResize() {\n    var element = this.itemContentInput['_elementRef'].nativeElement.getElementsByClassName(\"text-input\")[0];\n    var scrollHeight = element.scrollHeight;\n    element.style.height = scrollHeight + 'px';\n    this.itemContentInput['_elementRef'].nativeElement.style.height = (scrollHeight + 16) + 'px';\n  }\n  fileChangeListener($event): void {\n    this.mediaListToSend = this.mediaListToSend.concat(this.fileListToArray($event.target.files));\n    let fileinput = document.getElementById(\"fileInputId\") as HTMLInputElement;\n    fileinput.value = null;\n    console.log(this.mediaListToSend)\n    if (this.mediaListToSend.length > 10) {\n      this.mediaListToSend.length = 10;\n      this.global.presentToast('Bạn chỉ được dùng tối đa 10 file media.')\n    }\n  }\n  fileListToArray(fileList) {\n    return Array.prototype.slice.call(fileList);\n  }\n  removeFileFromList(filename) {\n    for (let i = this.mediaListToSend.length - 1; i >= 0; i--) {\n      if (this.mediaListToSend[i].name === filename) {\n        this.mediaListToSend.splice(i, 1);\n      }\n    }\n  }\n  validateInput() {\n    if (this.userInput.title == '' || this.userInput.detail == '')\n      this.global.presentToast('Các trường bắt buộc không thể bỏ trống');\n    else {\n      this.global.presentLoading('')\n      this.supplierFirebaseController.createNews(this.userInput, this.currentChosenCatergory).then(res => {\n        console.log(res)\n        this.global.dismissLoading()\n        this.global.presentToast('Cập nhật thành công!')\n\n        //update media if any\n        if (this.mediaListToSend.length > 0)\n          this.mediaUpload(res)\n        else\n        {\n          this.closeAddItem()\n          this.getNewsOfCatergory(this.currentChosenCatergory)          \n        }\n      })\n        .catch(err => {\n          console.log(err)\n          this.global.dismissLoading()\n          this.global.presentToast('Đã có lỗi khi kết nối với hệ thống. Vui lòng thử lại sau')\n        })\n    }\n  }\n  mediaUpload(newsId) {\n    this.global.presentLoading('Đang upload các file media')\n    let promiseList = []\n    for (let media of this.mediaListToSend) {\n      promiseList.push(\n        this.fbservices.fbUploadFiles(media, 'news').then(\n          res => {\n            //url return\n            console.log(res)\n            //saveurl to news\n            this.supplierFirebaseController.addNewsMediaFileURLToDocumentObject(res, this.currentChosenCatergory, newsId)\n          }\n        ).catch(err => {\n          console.log(err)\n        })\n      )\n    }\n    let self = this;\n    Promise.all(promiseList).then(function (values) {\n      console.log('All upload completed')\n      setTimeout(() => {\n        self.global.dismissLoading()\n        self.closeAddItem()\n        self.getNewsOfCatergory(self.currentChosenCatergory)\n      }, 1000);\n      self.mediaListToSend = []\n    })\n      .catch(err => {\n        self.global.dismissLoading()\n      });\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AdminNewsPage');\n  }\n  ionViewWillEnter() {\n    this.getCatergories()\n  }\n  getCatergories() {\n    this.currentChosenCatergory = ''\n    this.newsCatergories = {\n      newsCatergoriesCollectionID: [],\n      newsCatergoriesMetadata: []\n    }\n    this.global.presentLoading('')\n    this.supplierFirebaseController.getAllNewsCatergoriesMetadata().then(res => {\n      for (let key in <any>res) {\n        if (<any>res.hasOwnProperty(key)) {\n          this.newsCatergories.newsCatergoriesMetadata.push(<any>res[key])\n        }\n      }\n      if (this.currentChosenCatergory == '')\n        this.newsCatergories.newsCatergoriesCollectionID = Object.keys(res)\n      if(this.global.lastChosenCatergory==null)\n      this.currentChosenCatergory = this.newsCatergories.newsCatergoriesCollectionID[0]\n      else\n      this.currentChosenCatergory = this.global.lastChosenCatergory\n\n      console.log(this.newsCatergories)\n      this.global.dismissLoading()\n      this.getNewsOfCatergory(this.currentChosenCatergory)\n    })\n  }\n  getNewsOfCatergory(catergoryID) {\n    this.supplierFirebaseController.getNewsOfCatergory(catergoryID).then(res => {\n      console.log(res)\n      let result=<any>res\n      if(result.hasContent)\n      {\n        for(let i = result.data.length - 1; i >= 0; i--) {\n          if(result.data[i].title == null) {\n            result.data.splice(i, 1);\n          }\n      }\n      }\n      this.listOfNews = result.data\n    })\n  }\n  segmentChanged(e) {\n    this.global.lastChosenCatergory=this.currentChosenCatergory  \n    this.getNewsOfCatergory(this.currentChosenCatergory)\n  }\n  deleteItem(item)\n  {\n    let alert = this.alertCtrl.create({\n      title: 'Lưu ý',\n      message: 'Bạn có chắc chắn muốn thực hiện lệnh xóa?',\n      buttons: [\n        {\n          text: 'Không',\n          role: 'cancel',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Có',\n          handler: () => {\n            this.global.presentLoading('')\n            this.supplierFirebaseController.deleteNews(this.currentChosenCatergory, item.id).then(res=>{\n              if(item.mediaList.length>0)\n              {\n                for(let media of item.mediaList)\n                this.fbservices.deleteFileFromfbStorage(media)\n              }\n              this.global.dismissLoading();\n              this.getNewsOfCatergory(this.currentChosenCatergory)\n            })\n          }\n        }\n      ]\n    });\n    alert.present();\n\n  }\n  editItem(item)\n  {\n    this.navCtrl.push('AdminSupplierDetailPage',{currentChosenCatergory:this.currentChosenCatergory, item:item})\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-supplier/admin-supplier.ts"],"sourceRoot":""}