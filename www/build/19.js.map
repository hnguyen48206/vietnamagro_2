{"version":3,"sources":["../../src/pages/admin-contact/admin-contact.module.ts","../../src/pages/admin-contact/admin-contact.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminContactPage } from './admin-contact';\n\n@NgModule({\n  declarations: [\n    AdminContactPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminContactPage),\n  ],\n})\nexport class AdminContactPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-contact/admin-contact.module.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, AlertController } from 'ionic-angular';\nimport { GlobalheroProvider } from '../../providers/globalhero/globalhero';\nimport { FirebaseServicesProvider } from '../../providers/firebase-services/firebase-services';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { contactFirebaseController } from '../../providers/firebase-services/contactFirebaseController';\n\n/**\n * Generated class for the AdminAboutusPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'AdminContactPage',\n  segment: 'admin/contact',\n  defaultHistory: ['AdminPage']\n}\n)\n@Component({\n  selector: 'page-admin-contact',\n  templateUrl: 'admin-contact.html',\n})\nexport class AdminContactPage {\n  originalContactDetail = null\n  contactDetail = {\n    companyName: '',\n    address: '',\n    phone: '',\n    email: '',\n    website: ''\n  }\n  constructor(private contactFirebaseController: contactFirebaseController,\n    private sanitizer: DomSanitizer, private alertCtrl: AlertController, private fbservices: FirebaseServicesProvider, private global: GlobalheroProvider, private menuCrtl: MenuController, public navCtrl: NavController, public navParams: NavParams) {\n  }\n  sideMenuTrigger() {\n    this.menuCrtl.open();\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AdminContactPage');\n  }\n  ionViewWillEnter() {\n    this.getCurrentContact()\n  }\n  getCurrentContact() {\n    this.global.presentLoading('')\n    this.contactFirebaseController.getContact().then(res => {\n      this.global.dismissLoading()\n      console.log(res)\n      let result = <any>res\n      if (result.hasContent) {\n        this.originalContactDetail = result.data,\n        this.contactDetail=this.originalContactDetail\n      }\n    }).catch(err => {\n      this.global.dismissLoading()\n    })\n  }\n\n  validateInput() {\n    if (this.contactDetail.companyName == '' || this.contactDetail.phone == '' || this.contactDetail.email == '' || this.contactDetail.website == '')\n      this.global.presentToast('Các trường bắt buộc không thể bỏ trống');\n    else if (!this.global.emailValidator(this.contactDetail.email))\n      this.global.presentToast('Định dạng email không hợp lệ, vui lòng kiểm tra lại')\n    else\n      this.createUpdateContact()\n  }\n  createUpdateContact() {\n    this.global.presentLoading('')\n    if (this.originalContactDetail == null) {\n      this.contactFirebaseController.createContact(this.contactDetail).then(res => {\n        console.log(res)\n        this.contactDetail['id'] = res\n        this.originalContactDetail = this.contactDetail\n        this.global.dismissLoading()\n        this.global.presentToast('Cập nhật thành công!')\n      })\n        .catch(err => {\n          console.log(err)\n          this.global.dismissLoading()\n          this.global.presentToast('Đã có lỗi khi kết nối với hệ thống. Vui lòng thử lại sau')\n        })\n    }\n    else {\n      //Update old contact\n      this.contactFirebaseController.updateContact(this.contactDetail).then(() => {\n        this.global.dismissLoading()\n      }).catch(err => {\n        this.global.dismissLoading()\n      })\n    }\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-contact/admin-contact.ts"],"sourceRoot":""}